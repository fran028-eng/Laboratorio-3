repositorios practica 3

#1. Instalar y habilitar SSH en el servidor

sudo apt update
sudo apt install openssh-server -y

sudo systemctl enable ssh
sudo systemctl start ssh
sudo systemctl status ssh


#2. En el servidor: Preparar carpeta .ssh y archivo authorized_keys

mkdir -p ~/.ssh
chmod 700 ~/.ssh
nano ~/.ssh/authorized_keys   # Aquí se pegará la llave pública generada en Windows
chmod 600 ~/.ssh/authorized_keys



#3. En Windows (Host): Generar las llaves
#En PowerShell o CMD:


ssh-keygen -t rsa -b 4096


#4. Copiar la llave pública al servidor
#En PowerShell (Host):

scp C:\Users\TuUsuario\.ssh\id_rsa.pub usuario@IP_DEL_SERVIDOR:~/.ssh/tempkey.pub


#En el servidor:

cat ~/.ssh/tempkey.pub >> ~/.ssh/authorized_keys
rm ~/.ssh/tempkey.pub
chmod 600 ~/.ssh/authorized_keys




#5. Probar conexión sin contraseña
#En Windows (Host)

ssh usuario@IP_DEL_SERVIDOR



